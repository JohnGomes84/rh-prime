{
  "query": "CREATE TABLE IF NOT EXISTS time_records (\n  id VARCHAR(36) PRIMARY KEY,\n  employee_id VARCHAR(36) NOT NULL,\n  clock_in DATETIME NOT NULL,\n  clock_out DATETIME,\n  hours_worked DECIMAL(6,2),\n  status ENUM('PENDING', 'APPROVED', 'REJECTED') DEFAULT 'PENDING' NOT NULL,\n  approved_by_id VARCHAR(36),\n  approved_at DATETIME,\n  updated_by_id VARCHAR(36),\n  created_at DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  KEY idx_time_employee_clockin (employee_id, clock_in),\n  KEY idx_time_employee_status (employee_id, status),\n  KEY idx_time_clockin (clock_in),\n  CONSTRAINT fk_time_employee FOREIGN KEY (employee_id) REFERENCES employees(id) ON DELETE CASCADE ON UPDATE CASCADE\n);\n\nCREATE TABLE IF NOT EXISTS overtime_records (\n  id VARCHAR(36) PRIMARY KEY,\n  employee_id VARCHAR(36) NOT NULL,\n  time_record_id VARCHAR(36) NOT NULL,\n  hours_worked DECIMAL(6,2) NOT NULL,\n  overtime_hours DECIMAL(6,2) NOT NULL,\n  multiplier DECIMAL(3,2) NOT NULL,\n  type ENUM('50%', '100%', 'NOTURNO') NOT NULL,\n  status ENUM('PENDING', 'APPROVED', 'REJECTED') DEFAULT 'PENDING' NOT NULL,\n  approved_by_id VARCHAR(36),\n  approved_at DATETIME,\n  updated_by_id VARCHAR(36),\n  notes VARCHAR(500),\n  created_at DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  KEY idx_ot_employee_status (employee_id, status),\n  KEY idx_ot_timerecord (time_record_id),\n  KEY idx_ot_type (type),\n  KEY idx_ot_employee_created (employee_id, created_at),\n  CONSTRAINT fk_ot_employee FOREIGN KEY (employee_id) REFERENCES employees(id) ON DELETE CASCADE ON UPDATE CASCADE,\n  CONSTRAINT fk_ot_timerecord FOREIGN KEY (time_record_id) REFERENCES time_records(id) ON DELETE CASCADE ON UPDATE CASCADE\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3w6LaRB3GVsYroF.a7cd62c280db --database CGmy49xKQ63PS9N6aZZJgb --execute CREATE TABLE IF NOT EXISTS time_records (\n  id VARCHAR(36) PRIMARY KEY,\n  employee_id VARCHAR(36) NOT NULL,\n  clock_in DATETIME NOT NULL,\n  clock_out DATETIME,\n  hours_worked DECIMAL(6,2),\n  status ENUM('PENDING', 'APPROVED', 'REJECTED') DEFAULT 'PENDING' NOT NULL,\n  approved_by_id VARCHAR(36),\n  approved_at DATETIME,\n  updated_by_id VARCHAR(36),\n  created_at DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  KEY idx_time_employee_clockin (employee_id, clock_in),\n  KEY idx_time_employee_status (employee_id, status),\n  KEY idx_time_clockin (clock_in),\n  CONSTRAINT fk_time_employee FOREIGN KEY (employee_id) REFERENCES employees(id) ON DELETE CASCADE ON UPDATE CASCADE\n);\n\nCREATE TABLE IF NOT EXISTS overtime_records (\n  id VARCHAR(36) PRIMARY KEY,\n  employee_id VARCHAR(36) NOT NULL,\n  time_record_id VARCHAR(36) NOT NULL,\n  hours_worked DECIMAL(6,2) NOT NULL,\n  overtime_hours DECIMAL(6,2) NOT NULL,\n  multiplier DECIMAL(3,2) NOT NULL,\n  type ENUM('50%', '100%', 'NOTURNO') NOT NULL,\n  status ENUM('PENDING', 'APPROVED', 'REJECTED') DEFAULT 'PENDING' NOT NULL,\n  approved_by_id VARCHAR(36),\n  approved_at DATETIME,\n  updated_by_id VARCHAR(36),\n  notes VARCHAR(500),\n  created_at DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  KEY idx_ot_employee_status (employee_id, status),\n  KEY idx_ot_timerecord (time_record_id),\n  KEY idx_ot_type (type),\n  KEY idx_ot_employee_created (employee_id, created_at),\n  CONSTRAINT fk_ot_employee FOREIGN KEY (employee_id) REFERENCES employees(id) ON DELETE CASCADE ON UPDATE CASCADE,\n  CONSTRAINT fk_ot_timerecord FOREIGN KEY (time_record_id) REFERENCES time_records(id) ON DELETE CASCADE ON UPDATE CASCADE\n);",
  "returncode": 1,
  "logs": [
    "ERROR 3780 (HY000) at line 1: Referencing column 'employee_id' and referenced column 'id' in foreign key constraint 'fk_time_employee' are incompatible."
  ]
}